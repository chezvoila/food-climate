// let sum = districtSource.results.map(d => d.votes).reduce((p, n) => p + n, 0),
  //     dist = districtSource.results.map(d => Math.round(((d.votes / sum) * 100) * 10) / 10);
  // x.domain([d3.min(...dist), d3.max(...dist)]);


  @keyframes xx {
    0% {
            opacity: 0;
    }

    10% {
            opacity: 0.6
    }
    75% {
            opacity: 0.95;
    }

    85% {
            opacity: 0.54;
    }

    100% {
            opacity: 0.0;
    }
}





@keyframes tw { 10% {stroke-dasharray:  300, 500, 3000} 100% { stroke-dasharray:3300, 500, 3000;} }

#food_choice a.meat:hover path {
  /* animation: tw 2s; */
  
}

#food_choice a.meat path {
  /* fill: none;
  stroke: var(--color-light2);
  stroke-dasharray:  300 , 0, 3000;
  stroke-width: 6px; */
}



// function onWheelBottom() {

//     let total = el.scrollTop + el.clientHeight;
//     console.log(el.scrollTop, el.clientHeight, element.clientHeight)
//     if (total >= element.clientHeight) {
//             jumpNext(element);
//     }
// }

// function onWheelTop() {
//     let total = element.clientHeight - (el.scrollTop + el.clientHeight);
//     if (el.scrollTop == 0) {
//             console.log("jooz")
//             jumpPrev(element);
//     }
// }


// function detectStart() {
//     page.forEach(el => {
//         let element = el.querySelector("section");

//         element.onscroll = function() {
//             let total = element.scrollHeight - element.scrollTop;
//             if (total <= element.outerHeight) {
//                 // console.log(total)
//                         console.log("hit top");
//                     }
//         }
//     }) 
// }




// function detectEdge() {
//     page.forEach(el => {
//         let element = el.querySelector("section");
//         el.addEventListener("wheel", isScrollDown);
//         el.addEventListener("wheel", wheelFunc);

//         function isScrollDown(event) {
//             if (event.wheelDelta < 0) { 
//                 direction = true;
//             } else {
//                 direction = false;
//             }
//             return direction; 
//           }

//         function wheelFunc() {
//             onWheel(direction, currentIndex);
//         }

//         function onWheel(dir, index) {
//             let total;
//             if(dir) {
//                 total = el.scrollTop + el.clientHeight;
//                 if((total >= element.clientHeight) && (index < 4)) {
//                     jumpNext(element);
//                 }
//             } else {
//                 if((el.scrollTop == 0) && (index != 0)) {
//                     jumpPrev(element);
//                 }
//             }
//         }

//     }) 
// }


// var scroll = document.querySelector(".page");
// var content = document.getElementById("food_choice");

// scroll.onscroll = function() {
//     var total = scroll.scrollTop + scroll.clientHeight;
//     if (total == content.clientHeight) {
//         console.log("reached bottom!")
//     }
// }



//     function isTouchDown(event){
//         var currentTouchY = event.touches[0].clientY;
//         if(currentTouchY > lastTouchY){
//             direction = false;
//             console.log(direction)
//         } else if(currentTouchY < lastTouchY){
//             direction = true;
//             console.log(direction)
//         }
//         lastTouchY = currentTouchY;
//    };
















function SmoothScroll(target, speed, smooth) {
            if (target === document)
                target = (document.scrollingElement 
                      || document.documentElement 
                      || document.body.parentNode 
                      || document.body) // cross browser support for document scrolling
              
            var moving = false
            var pos = target.scrollTop
          var frame = target === document.body 
                      && document.documentElement 
                      ? document.documentElement 
                      : target // safari is the new IE
          
            target.addEventListener('mousewheel', scrolled, { passive: false })
            target.addEventListener('DOMMouseScroll', scrolled, { passive: false })
        
            function scrolled(e) {
                e.preventDefault(); // disable default scrolling
        
                var delta = normalizeWheelDelta(e)
        
                pos += -delta * speed
                pos = Math.max(0, Math.min(pos, target.scrollHeight - frame.clientHeight)) // limit scrolling
        
                if (!moving) update()
            }
        
            function normalizeWheelDelta(e){
                if(e.detail){
                    if(e.wheelDelta)
                        return e.wheelDelta/e.detail/40 * (e.detail>0 ? 1 : -1) // Opera
                    else
                        return -e.detail/3 // Firefox
                }else
                    return e.wheelDelta/120 // IE,Safari,Chrome
            }
        
            function update() {
                moving = true
            
                var delta = (pos - target.scrollTop) / smooth
            
                target.scrollTop += delta
            
                if (Math.abs(delta) > 0.5)
                    requestFrame(update)
                else
                    moving = false
            }
        
            var requestFrame = function() { // requestAnimationFrame cross browser
                return (
                    window.requestAnimationFrame ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame ||
                    window.oRequestAnimationFrame ||
                    window.msRequestAnimationFrame ||
                    function(func) {
                        window.setTimeout(func, 1000 / 50);
                    }
                );
            }()
        }

        // new SmoothScroll(document.querySelector("#food_choice"),120,12)